
<div class="modal " role="dialog" tabindex="-1" id="addModal" style="border-radius:32px;max-width:841px;margin: auto;padding-top: 35px">
    <div style="max-width: 730px;border-radius:32px;" class="modal-dialog" role="document">
        <div class="modal-content" style="width:100%; height:400px;border-radius:32px;padding-left:0px;padding-right: 0px;">
            <div class="modal-body" style="border-radius:32px;padding: 0px;">
                <div class="card card-secondary historycard midlecard profilecard" style="margin:auto;min-height:400px;border-radius:32px;width:100%;position: absolute">
                    <div  data-dismiss="modal" style="height: 25px; width:25px; top:3%; cursor: pointer;  color: white(248, 248, 248); background:rgba(193, 193, 224, 0.2)" class="close-comment">
                        <i  title="close" class="icon ion-ios-close-empty"></i>
                    </div>
                    <div style='padding-left: 30px;border-top-right-radius:32px;border-top-left-radius:32px;border-bottom: 0px;height:40px;margin-bottom: 20px;' class="card-header profileheader small-header">
                         <!-- <h6 *ngIf=" reg" style='font-size:11px;position:absolute;color:dodgerblue; font-weight: normal; top:18px;left:3%' class="patien-name small-name">ADD PATIENT</h6>
                         <h6 *ngIf="! reg" style='font-size:11px;position:absolute;color:dodgerblue; font-weight: normal; top:18px;left:3%' class="patien-name small-name">PATIENT INFO</h6>
                         <h6 (click) = "toggleAddOption(1)" [class.new] =  addOption [class.old] = ! addOption    *ngIf=" reg" style='left:75%' class="patien-name small-name ">NEW</h6>
                         <h6 (click) = "toggleAddOption(0)" [class.new] = ! addOption [class.old] =  addOption   *ngIf=" reg" style='left:81%;' class="patien-name small-name ">OLD</h6> -->
                    </div>
                    <div class="card-body orderbody" style="width:85%; margin:auto;">
                        <div class="steps">
                            <div [class.curent-step] = 'count === 0' class="step-item">
                                <span>
                                    <h6 class="step-lebel">PERONAL INFO</h6>
                               </span>
                                <span *ngIf=" isValidInfo()">
                                    <i  class="icon ion-ios-checkmark-empty paid-icon"></i>
                               </span>
                            </div>
                            <div [class.curent-step] = 'count === 1' class="step-item">
                                <span>
                                    <h6 class="step-lebel">CONTACT</h6>
                                </span>
                                <span >
                                    <i *ngIf=" isValidContact()" class="icon ion-ios-checkmark-empty paid-icon"></i>
                               </span>
                            </div>
                            <div [class.curent-step] = 'count === 2' class="step-item">
                                <span>
                                    <h6 style="width:94px;" class="step-lebel">INSURANCE</h6>
                                </span>
                                <span >
                                    <!-- <i class="icon ion-ios-checkmark-empty paid-icon"></i> -->
                                </span>
                            </div>
                            </div>
                            <form *ngIf="count===0"  style="top: 3%; height:100%;width:60%;position: relative;margin:auto;padding-top: 22px;" class=" staffsform">
                                <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                    <label style="font-size:8px" for="firstname" class="labelss"><span style='font-size:11px; color:red;'>*</span>FIRST NAME
                                    </label>
                                    <input (focus) = clearError() [(ngModel)]="patient.info.personal.firstName" style='font-size:11px;text-align: left' autocomplete="off" type="text" name="firstname" class="form-control patientdata dystolic inputs dataInfo">
                                </div>
                                <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                    <label style="font-size:8px" for="lastname" class="labelss"><span style='font-size:11px; color:red;'>*</span>LAST NAME </label>
                                    <input (focus) = clearError() [(ngModel)]=" patient.info.personal.lastName" style='font-size:11px' autocomplete="off" type="text" name="lastname" class="form-control patientdata dystolic inputs dataInfo"/>
                                </div>
                                <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                    <label style="font-size:8px" for="gender" class="labelss">GENDER</label>
                                    <select (focus) = clearError() name='gender' [(ngModel)]=" patient.info.personal.gender" style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                        <option>Male</option>
                                        <option>Female</option>
                                    </select>
                                </div>
                                <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                    <label style="font-size:8px" for="status" class="labelss">MARITAL STATUS</label>
                                    <select (focus) = clearError() name='status' [(ngModel)]=" patient.info.personal.mstatus" style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                        <option>Married</option>
                                        <option>Single</option>
                                    </select>
                                </div>
                                    <div style="width:49%; display:inline-block;margin-right: 5px; " class="form-group vitals-section">
                                        <label style="font-size:8px" for="dob" class="labelss"><span style='font-size:11px; color:red;'>*</span>DATE OF BIRTH</label>
                                        <input (focus) = clearError() name='dob' [(ngModel)]=" patient.info.personal.dob" type="date" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div style="width:49%; display:inline-block; " class="form-group vitals-section">
                                        <label style="font-size:8px" for="tribe" class="labelss">TRIBE</label>
                                        <input (focus) = clearError() name='tribe' [(ngModel)]=" patient.info.personal.tribe" type="text" style='font-size:11px' autocomplete="off" class=" form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                        <label style="font-size:8px" for="religion" class="labelss">RELIGION</label>
                                        <select (focus) = clearError() name='religion' [(ngModel)]=" patient.info.personal.religion" style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                            <option>Islam</option>
                                            <option>Christianity</option>
                                            <option>Others</option>
                                        </select>
                                    </div>
                                    <div class="form-group vitals-section" style="width:49%; display:inline-block">
                                        <label style="font-size:8px" for="occupation" class="labelss">OCCUPATION</label>
                                        <select (focus) = clearError() name='occupation' [(ngModel)]=" patient.info.personal.occupation" style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                            <option>Civil Servant</option>
                                            <option>Entreprenure</option>
                                            <option>Farmer</option>
                                            <option>House Wife</option>
                                            <option>Applicant</option>
                                            <option>Student</option>
                                            <option>Others</option>
                                        </select>
                                    </div>
                                    <!-- <div *ngIf='patient.record.cards.length' class="form-group vitals-section address">
                                        <label style="font-size:8px" for="address" class="labelss">CARD NUMBER</label>
                                        <input (focus) = clearError() [(ngModel)]=" patient.record.cards[0].pin" style='font-size:11px' autocomplete="off" type="text" name="address" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div> -->
                                    <div  class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                        <label style="font-size:8px" for="firstname" class="labelss"><span style='font-size:11px; color:red;'>*</span>CARD NUMBER
                                        </label>
                                        <input  (focus) = clearError() style='font-size:11px;text-align: left' autocomplete="off" type="text" name="firstname" class="form-control patientdata dystolic inputs dataInfo">
                                    </div>
                                    <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                        <label style="font-size:8px" for="enroled" class="labelss"><span style='font-size:11px; color:red;'>*</span>DATE ENROLED</label>
                                        <input [(ngModel)]='patient.info.personal.meta.dateAdded' type="date" (focus) = clearError()  style='font-size:11px' autocomplete="off" name="enroled" class="form-control patientdata dystolic inputs dataInfo"/>
                                    </div>
                                </form>
                                <form *ngIf="count===1"  style="top: 3%; height:100%;width:60%;position: relative;margin:auto;padding-top: 10px;" class=" staffsform">
                                    <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                        <label style="font-size:8px" for="mobile" class="labelss">MOBILE</label>
                                        <input (focus) = clearError() name='mobile' [(ngModel)]=" patient.info.contact.me.mobile" type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div class="form-group vitals-section" style="width:49%; display:inline-block">
                                        <label style="font-size:8px" for="email" class="labelss">EMAIL</label>
                                        <input (focus) = clearError() name='email' [(ngModel)]=" patient.info.contact.me.email" type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                        <label style="font-size:8px" for="statee" class="labelss">STATE</label>
                                        <select (focus) = clearError() name='state' [(ngModel)]=" patient.info.contact.me.state" style='font-size:11px' autocomplete="off" class=" patientdata dystolic inputs dataInfo">
                                            <option *ngFor='let state of states'>
                                                {{state}}
                                            </option>
                                        </select>
                                    </div>
                                    <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                        <label style="font-size:8px" for="lga" class="labelss">CITY</label>
                                        <select (focus) = clearError() name='lga' [(ngModel)]=" patient.info.contact.me.lga" style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                            <option *ngFor='let lga of  getLgas()'>
                                                {{lga}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="form-group vitals-section address">
                                        <label style="font-size:8px" for="address" class="labelss">ADDRESS</label>
                                        <input (focus) = clearError() [(ngModel)]=" patient.info.contact.me.address" style='font-size:11px' autocomplete="off" type="text" name="address" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                        <label style="font-size:8px" for="statee" class="labelss">NEXT OF KIN NAME</label>
                                        <input (focus) = clearError() name='kinname' [(ngModel)]=" patient.info.contact.me.kinName" type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                        <label style="font-size:8px" for="lga" class="labelss">NEXT OF KIN MOBILE</label>
                                        <input (focus) = clearError() name='kinmobile' [(ngModel)]=" patient.info.contact.me.kinMobile" type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                        <label style="font-size:8px" for="ename" class="labelss">EMERGENCY CONTACT NAME</label>
                                        <input (focus) = clearError() name='ename' [(ngModel)]=" patient.info.contact.emergency.name" type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <div class="form-group vitals-section" style="width:49%; display:inline-block">
                                        <label style="font-size:8px" for="emobile" class="labelss">EMERGENCY MOBILE</label>
                                        <input (focus) = clearError() name='emobile' [(ngModel)]=" patient.info.contact.emergency.mobile" type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                    </div>
                                    <!-- <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                        <label style="font-size:8px" for="eoccp" class="labelss">RELATIONSHIP</label>
                                        <select name='rel' [(ngModel)]=" patient.info.contact.emergency.rel" style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                            <option>Parent</option>
                                            <option>Spouse</option>
                                            <option>Sibling</option>
                                            <option>Other</option>
                                        </select>
                                    </div>
                                    <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                        <label style="font-size:8px" for="rel" class="labelss">OCCUPATION</label>
                                        <select name='occupation' [(ngModel)]=" patient.info.contact.emergency.occupation" style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                            <option>Civil Servant</option>
                                            <option>Entreprenure</option>
                                            <option>Farmer</option>
                                            <option>House Wife</option>
                                            <option>Applicant</option>
                                            <option>Student</option>
                                            <option>Others</option>
                                        </select>
                                    </div> -->
                                </form>
                                <form *ngIf="count===2"  style="top: 3%; height:100%;width:60%;position: relative;margin:auto;padding-top:26px;" class=" staffsform">
                                <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                    <label style="font-size:8px" for="gnumb" class="labelss">GROUP No.</label>
                                    <input (focus) = clearError() [(ngModel)]=" patient.info.insurance.groupNo" name='gnumb' type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                </div>
                                <div class="form-group vitals-section" style="width:49%; display:inline-block">
                                    <label style="font-size:8px" for="idnum" class="labelss">ID No.</label>
                                    <input (focus) = clearError() [(ngModel)]=" patient.info.insurance.idNo" name='idnum' type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                </div>
                                <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                    <label style="font-size:8px" for="sub" class="labelss">HMO</label>
                                    <input (focus) = clearError() [(ngModel)]=" patient.info.insurance.subscriber" name='sub'  type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                </div>
                                <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                    <label style="font-size:8px" for="employer" class="labelss">EMPLOYER</label>
                                    <input (focus) = clearError() [(ngModel)]=" patient.info.insurance.employer" name='employer'  type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                </div>
                                <div class="form-group vitals-section" style="width:49%; margin-right: 5px; display:inline-block">
                                    <label style="font-size:8px" for="ssn" class="labelss">SSN</label>
                                    <input (focus) = clearError() [(ngModel)]=" patient.info.insurance.ssn" name='ssn'  type="text" style='font-size:11px' autocomplete="off" class="form-control patientdata dystolic inputs dataInfo" />
                                </div>
                                <div style="width:49%; display:inline-block" class="form-group vitals-section">
                                    <label style="font-size:8px" for="irel" class="labelss">RELATIONSHIP</label>
                                    <select (focus) = clearError() [(ngModel)]=" patient.info.insurance.rel" name='irel' style='font-size:11px' autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                        <option>Parent</option>
                                        <option>Spouse</option>
                                        <option>Self</option>
                                        <option>Sibling</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div style="left:12%; top:45%;position: absolute;
                    width: 7%;" class="btn-group disposition">
                        <button [disabled]='count === 0' (click) = prev() style="width:32px;height: 32px;border-radius: 50%;left:35%"   class="btn btn-outline-primary  dispo shift-button" >
                            <i style='position:absolute;right:36%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Back" class="icon ion-android-arrow-back ">
                            </i>
                        </button>
                    </div>
                    <div style="left: 76%; top:45%;position: absolute;
                    width: 7%;" class="btn-group disposition">
                        <button [disabled]='count === 2'(click)=next() style="width:32px;height: 32px;border-radius: 50%;left:35%"   class="btn btn-outline-primary  dispo shift-button ">
                            <i style='position:absolute;right:36%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Next" class="icon ion-android-arrow-forward ">
                            </i>
                        </button>
                    </div>
                    <div *ngIf="count === 2" style="left:31%;top:286px;position:relative;width:53%" class="btn-group disposition">
                        <button (click) = updateInfo() [disabled] = "updating|| isInvalidForm()"  style=" width: 170px;font-size: 10px; border-radius: 30px; height:27px;left:15%; bottom:10%;" class="btn btn-sm btn-outline-primary  mainbtn">
                            UPDATE INFORMATION
                            <span *ngIf=' updating' style="position: absolute; bottom: -7%;left: 10%;">
                                <i class="fa fa-circle-o-notch fa-spin fa-10x slow-spin " style="position:absolute;bottom:5px;left:5px;font-size:19px;color: #1da1f2;"></i>
                            </span>
                        </button>
                    </div>
                    <h6 *ngIf=" successMsg" class="feedbackMsg">{{successMsg}}</h6>
                    <h6 *ngIf=" errorMsg"  style="color: red" class="feedbackMsg">{{ errorMsg}}</h6>
                </div>
            </div>
        </div>
    </div>




<header class="header-main">
  <nav>
    <div class="logo-box">
      <a href="/"><h1 class="logo">O</h1></a>
    </div>
    <div class="search-box">
      <form class='search__form'>
        <svg viewBox="0 0 24 24" class="search__icon">
          <g><path d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"></path></g>
        </svg>
        <input type="search" name="search" autocomplete="off" placeholder='Search Patient' class='form-control input search'>
      </form>
    </div>
    <div class="view-box">
      <div *ngIf=sortMenu  class="sort__options">
        <ul class='list__options' (mouseleave)='toggleSortMenu()'>
          <li (click)='sortPatients("A-Z")' class="action">A-Z</li>
          <li (click)='sortPatients("Age")' class="action">Age</li>
          <li (click)='sortPatients("Gender")' class="action">Gender</li>
          <li (click)='sortPatients("Date")' class="action">Date</li>
      </ul>
      </div>
      <h6>Sort:
        <span style='cursor:pointer' (click) ='toggleSortMenu()'>{{nowSorting}}</span>
      </h6>
      <div *ngIf='isInfo()' class="add__patient__box">
        <i (click) = clearPatient() style="left:75%;" class="icon ion-ios-plus-empty" title="Add Patient" data-target="#addModal" data-toggle="modal"></i>
      </div>
    </div>
  </nav>
  <div (mouseleave) = hideLogOut() class="log__box">
    <div (click) ='showLogOut()' [ngStyle] = getBackgrounds() class="dp__box"></div>
    <div *ngIf="logout" class="log__out">
      <ul class='list__options'>
        <li (click)=logOut()>
            Log out
        </li>
    </ul>
    </div>
    <i (click) ='showLogOut()' class="icon ion-ios-arrow-down"></i>
  </div>
</header>

<div id="load-more" (click)=loadMore() style="padding-top:60px" class="container">
      <div class="row">
         <div *ngIf='!patients.length' class='issue'>
            <div *ngIf=loading  class="spinner main"></div>
              <div *ngIf='message' title='Refresh' class='refresh'><i class="icon ion-ios-reload "></i></div>
              <h6 *ngIf='message' style='font-size:13px;position:absolute;top:65%; width:100%; color:lightgrey;text-align: center' >{{message}}</h6>
          </div>
          <div *ngFor="let patient of patients; let i=index"  class="col-xl-4 col-lg-4 col-md-4 col-sm-6 col-xs-12">
            <div (mouseleave)='hideMenu()'  *ngIf = "patient.card.menu" class="menu">
              <ul class="actions primary">
                  <li (click)="switchCardView(i,'ap')" class="action">New Appointement</li>
              </ul>
            </div>
                <div style="overflow: hidden;"  class="card card-secondary maincard">
                    <div *ngIf="patient.card.view==='front'"  style='padding-left: 30px; border-top-right-radius: 12px; border-top-left-radius: 12px;  padding-top: 0px;
                    height: 32px;
                    padding-bottom: 0px;' class="card-header profileheader">
                        <i *ngIf="isConsult()" (click)='showMenu(i)' class="icon ion-android-more-vertical headericon moreicon actions-icon"></i>
                    </div>
                    <div *ngIf="patient.card.view!=='front'" style='padding-left: 37px;   border-top-right-radius: 12px; border-top-left-radius: 12px; padding-top: 0px;
                    position:absolute; width:100%; padding-bottom: 0px;height:32px' class="card-header profileheader small-header">
                        <i (click)="switchCardView(i,'front')" style='position:absolute;  left:3%;top:4px; cursor:pointer;
                        display: inline-block;
                        color:#1da1f2;' title="Back" class="icon ion-android-arrow-back">
                        </i>
                        <div style="left:23px;position: absolute;" class="timeline lastdoc priscriber headerdp small-dp">
                            <img [src] = getDp(patient.info.personal.avatar)/>
                            <div *ngIf="patient.card.indicate" class="indicator"></div>
                        </div>
                        <p style="top:6px;margin-bottom:0px;position: absolute;" class="patien-name small-name">
                            {{patient.info.personal.firstName + ' '+ patient.info.personal.lastName}}<span class="small-headericon"></span>
                        </p>
                    </div>
                    <div [class.ap]='cardCount' [class.front]='patient.card.view === "front"' style="position: absolute; width:100%;height: 87%;top:13%" class="card-body mainbody">
                        <div style="position: relative;margin-bottom: 0px;top:0px" class="timeline lastdoc priscriber headerdp">
                            <img  [src]=getDp(patient.info.personal.avatar)/>
                        </div>
                        <p *ngIf="isInfo()"  style='margin-bottom:2px;position:relative;top:3px' class="patien-name display-name">
                            {{patient.info.personal.firstName + ' '+patient.info.personal.lastName}}
                        </p>
                        <a  *ngIf='isConsult()' style="position:relative;top:3px" href="#" title="View history" [routerLink]="['../history', patient._id]" routerLinkActive="router-link-active" class="patien-name">
                            {{patient.info.personal.firstName + ' ' + patient.info.personal.lastName}}
                            <span class="predata editicon"></span></a>
                            <a *ngIf='isAdmin()' style="position:relative;top:3px" href="#" title="View history" [routerLink]="['../history', patient._id]" routerLinkActive="router-link-active" class="patien-name">
                            {{patient.info.personal.firstName + ' ' + patient.info.personal.lastName}}
                            <span class="predata editicon"></span></a>
                        <div>
                            <div style="position: relative;top:12px" class="carditem basic-item">
                                <h6 class="dept basic-info">Sex</h6>
                                <h6 class="dept basic-info sex-info">
                                    {{patient.info.personal.gender.charAt(0).toUpperCase()}}
                                </h6>
                            </div>
                            <div style="position: relative;top:12px" class="carditem basic-item">
                                <h6 class="dept basic-info">Age</h6>
                                <h6 class="dept basic-info sex-info">{{patient.info.personal.dob|dob}}</h6>
                            </div>
                            <div style="position: relative;top:12px" class="carditem basic-item">
                                <h6 class="dept basic-info">APs</h6>
                                <h6 class="dept basic-info sex-info">{{patient.record.appointments.length}}</h6>
                            </div>
                        </div>
                        <div style="top:0px"   class="priscription basic-subinfo">
                            <div class="sub-container">
                                <h6 style="color: darkgrey;" class="dept basic-secondary basic-value">
                                  {{patient.record.appointments[0].title}}
                                </h6>
                            </div>
                            <div class="sub-container">
                              <h6 style="width:100%;text-align:center" class="dept basic-secondary basic-value">
                                {{patient.record.appointments[0].date|date:'dd-MM-y'}}&nbsp;<span>
                                {{patient.record.appointments[0].time}}</span>
                              </h6>
                            </div>
                      </div>
                      <div *ngIf="patient.card.view ==='front'" style='padding: 4px 4px 4px 27px;border-top:none;border-bottom:none;border-bottom-right-radius:12px;border-bottom-left-radius:12px' class="card-footer profileheader small-header">
                          <div style="left:10%; top:84%" class="timeline lastdoc priscriber headerdp small-dp">
                              <img [src] = getDp(patient.info.personal.avatar)/>
                          </div>
                          <h6 style="font-weight:normal;width:125px; white-space: nowrap;overflow: hidden;text-overflow: ellipsis;margin: 2px;top:14px;margin-left: 4px;" href="#" class="patien-name small-name">
                              {{'Dr.'+' '+patient.info.personal.firstName + ' '+ patient.info.personal.lastName}}
                          </h6>
                          <p style='position: absolute;bottom:0.1%;font-size: 10px;color:lightgrey;left: 70%;'>
                              {{patient.record.appointments[0].setOn|date:'dd/MM/y'}}
                          </p>
                      </div>
                    </div>
                    <div [class.on]='patient.card.view === "ap"' style="position: absolute; width:100%;height: 87%; top:13%;background:white;border-bottom-right-radius: 12px;border-bottom-left-radius: 12px" class="card-body mainbody off">
                        <form style="width:100%; padding-left: 8%; padding-right: 8%;" class=" staffsform" >
                            <div class="form-group">
                                <label style = 'font-size: 8px' for="title" class="labelss complain">TITLE</label>
                                <input  [(ngModel)]="appointment.title"  style='font-size:11px'  type="text" name="title" class=" form-control input"   placeholder="e.g Anti natal routine">
                            </div>
                            <div class="form-group" >
                                <label style = 'font-size: 8px; text-align: left;' for="date" class="labelss complain">DATE</label>
                                <input [(ngModel)]="appointment.setOn"   style='font-size:11px'  type="date" name="date" class="form-control input">
                            </div>
                            <div class="form-group">
                                <label style = 'font-size: 8px' for="time" class="labelss complain">TIME</label>
                                <input [(ngModel)]="appointment.time"   style='font-size:11px' type="time" name="time" class="form-control input">
                            </div>
                        </form>
                        <button [disabled] = '!appointment.title || !appointment.setOn' (click) = setAppointment() style=" width: 170px;font-size: 10px; height:27px;left:15%; bottom:25%;" class="btn btn-sm btn-outline-primary  mainbtn">
                            SET APPOINTMENT
                            <span *ngIf="processing"  style="position: absolute; bottom: -7%;left: 76%;">
                            <i class="fa fa-circle-o-notch fa-spin fa-10x slow-spin " style="position:absolute;bottom:5px;left:5px;font-size:19px;color: #1da1f2;"> </i>
                        </span>
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>

